[tools]
prek = "latest"
vhs = "latest"

[tasks."demo:build"]
run = "cargo build --release"
description = "Build vig for demo recording"
hide = true

[tasks.demo]
run = "PATH=$PWD/target/release:$PATH vhs tape/demo.tape"
depends = ["demo:build"]
description = "Record demo GIF"

[tasks."demo:yank"]
run = "PATH=$PWD/target/release:$PATH vhs tape/demo-yank.tape"
depends = ["demo:build"]
description = "Record yank demo GIF"

[tasks."demo:branch"]
run = "PATH=$PWD/target/release:$PATH vhs tape/demo-branch.tape"
depends = ["demo:build"]
description = "Record branch selector demo GIF"

[tasks."demo:search"]
run = "PATH=$PWD/target/release:$PATH vhs tape/demo-search.tape"
depends = ["demo:build"]
description = "Record search demo GIF"

[tasks."demo:reflog"]
run = "PATH=$PWD/target/release:$PATH vhs tape/demo-reflog.tape"
depends = ["demo:build"]
description = "Record reflog demo GIF"

[tasks."demo:github"]
run = "PATH=$PWD/target/release:$PATH vhs tape/demo-github.tape"
depends = ["demo:build"]
description = "Record GitHub View demo GIF"

[tasks."demo:all"]
depends = ["demo", "demo:yank", "demo:branch", "demo:search", "demo:reflog", "demo:github"]
description = "Record all demo GIFs"
